{"version":3,"sources":["hooks/useScriptRef.js","views/auth/signin/RestLogin.js","views/auth/signin/SignIn1.js"],"names":["useScriptRef","scripted","useRef","useEffect","current","RestLogin","className","rest","dispatcher","useDispatch","scriptedRef","require","Fragment","initialValues","email","password","submit","validationSchema","Yup","shape","lang","must_be_a_valid_email","max","required","email_required","password_required","onSubmit","values","a","setErrors","setStatus","setSubmitting","console","log","axios","post","API_SERVER","then","response","data","user","success","type","ACCOUNT_INITIALIZE","payload","isLoggedIn","token","msg","catch","error","UP_THEME","theme","err","message","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched","noValidate","label","placeholder","name","onBlur","onChange","value","sm","variant","mt","color","disabled","size","sign_in","Signin1","Body","aoa"],"mappings":"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","file":"static/js/30.654165e6.chunk.js","sourcesContent":["import { useRef, useEffect } from 'react';\n\nconst useScriptRef = () => {\n    const scripted = useRef(true);\n\n    useEffect(\n        () => () => {\n            scripted.current = false;\n        },\n        []\n    );\n\n    return scripted;\n};\n\nexport default useScriptRef;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Row, Col, Button, Alert } from 'react-bootstrap';\n\nimport * as Yup from 'yup';\nimport { Formik } from 'formik';\nimport axios from 'axios';\nimport useScriptRef from '../../../hooks/useScriptRef';\nimport { API_SERVER } from './../../../config/constant';\nimport { ACCOUNT_INITIALIZE, UP_THEME } from './../../../store/actions';\nimport {lang} from './../../../lang/lang';\n\n\n\n\n//                             .post(API_SERVER + 'users/login', {\n\nconst RestLogin = ({ className, ...rest }) => {\n    const dispatcher = useDispatch();\n\n    const scriptedRef = useScriptRef();\n    require('../../../assets/themes/theme1/estilo.scss') \n    return (\n        <React.Fragment>\n            <Formik\n                initialValues={{\n                    email: '',\n                    password: '',\n                    submit: null\n                }}\n                validationSchema={Yup.object().shape({\n                    email: Yup.string().email(lang.must_be_a_valid_email).max(255).required(lang.email_required),\n                    password: Yup.string().max(255).required(lang.password_required)\n                })}\n                onSubmit={async (values, { setErrors, setStatus, setSubmitting }) => {\n                    console.log(values.email+' - '+values.password);\n                    try {\n                        axios\n                            .post(API_SERVER + 'users/login.json', {\n                                password: values.password,\n                                email: values.email\n                            })\n                            .then(function (response) {\n                                console.log('__ '+response.data.user);\n                                if (response.data.success) {\n                                    console.log(response.data);\n                                    dispatcher({\n                                        type: ACCOUNT_INITIALIZE,\n                                        payload: { isLoggedIn: true, user: response.data.user, token: response.data.token }\n                                    });\n                                    if (scriptedRef.current) {\n                                        setStatus({ success: true });\n                                        setSubmitting(false);\n                                    }\n                                } else {\n                                    setStatus({ success: false });\n                                    setErrors({ submit: response.data.msg });\n                                    setSubmitting(false);\n                                }\n                            })\n                            .catch(function (error) {\n                                /*  Valida cualquier usuario  */\n                                dispatcher({\n                                    type: ACCOUNT_INITIALIZE,\n                                    payload: { isLoggedIn: true, user: values.user, token: values.token }\n                                });\n                                dispatcher({\n                                    type: UP_THEME,\n                                    payload: { theme: 1 }\n                                });\n                                /*\n                                console.log(error);\n                                setStatus({ success: false });\n                                setErrors({ submit: error.response.data.msg });\n                                setSubmitting(false);\n                                */\n                            });\n                    } catch (err) {\n                        console.error(err);\n                        if (scriptedRef.current) {\n                            setStatus({ success: false });\n                            setErrors({ submit: err.message });\n                            setSubmitting(false);\n                        }\n                    }\n                }}\n            >\n                {({ errors, handleBlur, handleChange, handleSubmit, isSubmitting, touched, values }) => (\n                    <form noValidate onSubmit={handleSubmit} className={className} {...rest}>\n                        <div className=\"form-group mb-3\">\n                            <input\n                                className=\"form-control\"\n                                error={touched.email && errors.email}\n                                label=\"Email Address\"\n                                placeholder={lang.email}\n                                name=\"email\"\n                                onBlur={handleBlur}\n                                onChange={handleChange}\n                                type=\"email\"\n                                value={values.email}\n                            />\n                            {touched.email && errors.email && <small className=\"text-danger form-text\">{errors.email}</small>}\n                        </div>\n                        <div className=\"form-group mb-4\">\n                            <input\n                                className=\"form-control\"\n                                error={touched.password && errors.password}\n                                label=\"Password\"\n                                placeholder={lang.password}\n                                name=\"password\"\n                                onBlur={handleBlur}\n                                onChange={handleChange}\n                                type=\"password\"\n                                value={values.password}\n                            />\n                            {touched.password && errors.password && <small className=\"text-danger form-text\">{errors.password}</small>}\n                        </div>\n\n                        {errors.submit && (\n                            <Col sm={12}>\n                                <Alert variant=\"danger\">{errors.submit}</Alert>\n                            </Col>\n                        )}\n\n\n\n                        <Row>\n                            <Col mt={2}>\n                                <Button\n                                    className=\"btn-block\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    size=\"large\"\n                                    type=\"submit\"\n                                    variant=\"primary\"\n                                >\n                                    {lang.sign_in}\n                                </Button>\n                            </Col>\n                        </Row>\n                    </form>\n                )}\n            </Formik>\n            <hr />\n        </React.Fragment>\n    );\n};\n\nexport default RestLogin;\n/*\n                        <div className=\"custom-control custom-checkbox  text-left mb-4 mt-2\">\n                            <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\" />\n                            <label className=\"custom-control-label\" htmlFor=\"customCheck1\">\n                                {lang.save_credentials}.\n                            </label>\n                        </div>\n*/\n","import React from 'react';\nimport { Card } from 'react-bootstrap';\nimport { NavLink } from 'react-router-dom';\n\nimport Breadcrumb from '../../../layouts/ALayout/Breadcrumb';\n\nimport RestLogin from './RestLogin';\n\nimport {lang} from '../../../lang/lang';\n\nconst Signin1 = () => {\n    require('../../../assets/themes/theme1/estilo.scss') \n    return (\n        <React.Fragment>\n            <Breadcrumb />\n            <div className=\"auth-wrapper\">\n                <div className=\"auth-content\">\n                    <div className=\"auth-bg\">\n                        <span className=\"r\" />\n                        <span className=\"r s\" />\n                        <span className=\"r s\" />\n                        <span className=\"r\" />\n                    </div>\n                    <Card className=\"borderless text-center\">\n                        <Card.Body>\n                            <h4 className=\"mb-4\">{lang.aoa}</h4>\n\n                            <div className=\"mb-4\">\n                                <i className=\"feather icon-unlock auth-icon\" />\n                            </div>\n\n                            <RestLogin />\n\n                        </Card.Body>\n                    </Card>\n                </div>\n            </div>\n        </React.Fragment>\n    );\n};\n\nexport default Signin1;\n\n/*\n\n                            <p className=\"mb-0 text-muted\">\n                                {lang.dont_have_an_account}{' '}\n                                <NavLink to=\"/auth/signup\" className=\"f-w-400\">\n                                    {lang.sign_up}\n                                </NavLink>\n                            </p>\n\n\n\n\n                            <br />\n\n                            <p className=\"mb-0 text-muted\">\n                                &copy;{' '}\n                                <a target=\"_blank\" href=\"https://codedthemes.com/\" rel=\"noreferrer\">\n                                    CodedThemes\n                                </a>\n                                -{' '}\n                                <a target=\"_blank\" href=\"https://appseed.us\" rel=\"noreferrer\">\n                                    AppSeed\n                                </a>\n                                .\n                            </p>\n*/\n"],"sourceRoot":""}